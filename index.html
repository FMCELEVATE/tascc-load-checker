<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FMC Haulage TASCC Portal</title>
    <style>
        :root {
            --primary-color: #0094e9;
            --text-color: #fff;
            --background-color: #121212;
            --button-color: #1e90ff;
            --button-hover: #1c7ed6;
            --highlight-color: #f4f4f4;
            --border-radius: 5px;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            text-align: center;
            padding: 40px;
        }

        input, button, select {
            padding: 15px;
            font-size: 18px;
            margin: 10px;
            width: 80%;
            max-width: 300px;
            border-radius: var(--border-radius);
            border: 1px solid var(--primary-color);
        }

        button {
            background-color: var(--button-color);
            color: #fff;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: var(--button-hover);
        }

        select {
            background-color: #333;
            color: #fff;
        }

        .results, .load-history {
            margin-top: 30px;
        }

        .results {
            font-size: 18px;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .results.show, .load-history.show {
            opacity: 1;
            transform: translateY(0);
        }

        .load-history {
            font-size: 18px;
            margin-top: 30px;
        }

        .load-item {
            background-color: #2d2d2d;
            margin-bottom: 15px;
            padding: 15px;
            border-radius: var(--border-radius);
        }

        .load-item h3 {
            color: var(--primary-color);
        }

        .load-item p {
            margin: 5px 0;
        }

        .load-item strong {
            font-weight: bold;
        }

        .toast {
            visibility: hidden;
            min-width: 200px;
            margin-left: -100px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 5px;
            padding: 12px;
            position: fixed;
            z-index: 1;
            left: 50%;
            bottom: 30px;
            font-size: 16px;
            opacity: 0;
            transition: opacity 0.5s, visibility 0.5s;
        }

        .toast.show {
            visibility: visible;
            opacity: 1;
        }

        #logo {
            width: 150px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <img src="https://i.imgur.com/fZPVAyu.png" alt="TASCC Logo" id="logo">
    <h1>FMC Haulage TASCC Portal</h1>
    <p>Enter your Trailer Number below to view last 3 loads:</p>
    <input type="text" id="trailerInput" placeholder="Enter Trailer Number" autofocus>
    <div>
        <button onclick="searchLoads()">Search</button>
        <button onclick="clearSearch()">Clear</button>
    </div>

    <div class="results" id="results"></div>

    <div class="load-history show" id="loadHistory"></div>

    <h2>Submit New Load</h2>
    <form id="loadForm">
        <input type="text" id="trailerNumber" name="trailerNumber" placeholder="Trailer Number" required>
        <select id="commodity" name="commodity" required>
            <option value="" disabled selected>Select Commodity</option>
            <!-- Will populate dynamically -->
        </select>
        <select id="collectionPoint" name="collectionPoint" required>
            <option value="" disabled selected>Select Collection Point</option>
            <!-- Will populate dynamically -->
        </select>
        <select id="deliveryPoint" name="deliveryPoint" required>
            <option value="" disabled selected>Select Delivery Point</option>
            <!-- Will populate dynamically -->
        </select>
        <input type="text" id="orderNumber" name="orderNumber" placeholder="Order Number (optional)">
        <input type="number" id="weight" name="weight" placeholder="Weight (Tons)" required>
        <select id="cleaningMethod" name="cleaningMethod" required>
            <option value="" disabled selected>Select Cleaning Method</option>
            <!-- Will populate dynamically -->
        </select>
        <select id="driverName" name="driverName" required>
            <option value="" disabled selected>Select Driver</option>
            <!-- Will populate dynamically -->
        </select>
        <button type="submit" onclick="submitLoad()">Submit Load</button>
    </form>

    <div class="toast" id="toast"></div>

    <script>
        const lastThreeLoads = [
            { commodity: "Hi pro Soya", timestamp: "27/04/2025 08:45:30", collection: "CEFETRA RING", delivery: "DG MOGEELY" },
            { commodity: "Palm Kernal", timestamp: "27/04/2025 09:09:35", collection: "DG BALLINHASSIG", delivery: "FARRELLS CTR" },
            { commodity: "Apples", timestamp: "27/04/2025 09:14:32", collection: "HALLS FOYNES", delivery: "DG LOMBARDSTOWN" }
        ];

        const driverNames = [
            "Bob O'Callaghan", "Colm Twomey", "Ciaran Cronin", "Conor O'Regan", "Eoin Lenihan", "Eoin Scannell", "Gary", 
            "Jakub Starczewski", "Ken Murphy", "Killian Burke", "Martin Attridge", "Niall Mc Carthy", "Patrick O'Flynn", "Peadar", 
            "Stephen Murphy"
        ];

        const commodities = [
            "Barley", "BARLEY MALT CULMS", "Beet Pulp", "Bl Mlt Clm", "Citrus", "Coal", "Distillers", "Fertilizer", "Gluten", 
            "Hi pro Soya", "Maize", "Oats", "Palm Kernal", "Pollard", "Rape Seed", "Salt", "Slack", "Soya Hulls", "Sunflower", 
            "Wheat", "Wheat Distillers", "FERTILIZER-NITROGEN GRANULAR", "FERTILIZER-PHOSPHORUS GRANULAR", "FERTILIZER-POTASH GRANULAR", 
            "FIRST TIME QUARRIED STONE", "OTHER"
        ];

        const collectionPoints = [
            "ARKADY CORK", "ARKADY DUBLIN", "ARKADY MOYGLARE", "ARKADY PASSAGE", "ARKADY RING", "ARKADY WATERFORD", "BANON Co-op KINSALE",
            "CEFETRA DUBLIN", "CEFETRA RING", "CORK MALTING COMPANY", "DG BALLINHASSIG", "DG KILUMNEY", "DG LOMBARDSTOWN", "DG MOGEELY"
        ];

        const deliveryPoints = [
            "BANDON Co-op KINSALE", "BRETTS CALLAN", "CASTLEMORE", "CONNOLLYS GORESBRIDGE", "CORK MALTING COMPANY", "DG BALLINHASSIG", 
            "DG KILUMNEY", "DG LOMBARDSTOWN", "DG MOGEELY", "DG NEW INN", "DRINAGH CO-OP", "FARRELLS CTR"
        ];

        const cleaningMethods = [
            "INSPECTED/OK", "SWEPT", "WASHED EXTERNAL", "WASHED INTERNAL", "STEAM CLEANED", "DISINFECTED", "WASHED INT & EXT"
        ];

        // Populate the dropdowns
        function populateDropdowns() {
            const commoditySelect = document.getElementById('commodity');
            const collectionPointSelect = document.getElementById('collectionPoint');
            const deliveryPointSelect = document.getElementById('deliveryPoint');
            const cleaningMethodSelect = document.getElementById('cleaningMethod');
            const driverNameSelect = document.getElementById('driverName');

            commodities.forEach(commodity => {
                const option = document.createElement('option');
                option.value = commodity;
                option.textContent = commodity;
                commoditySelect.appendChild(option);
            });

            collectionPoints.forEach(point => {
                const option = document.createElement('option');
                option.value = point;
                option.textContent = point;
                collectionPointSelect.appendChild(option);
            });

            deliveryPoints.forEach(point => {
                const option = document.createElement('option');
                option.value = point;
                option.textContent = point;
                deliveryPointSelect.appendChild(option);
            });

            cleaningMethods.forEach(method => {
                const option = document.createElement('option');
                option.value = method;
                option.textContent = method;
                cleaningMethodSelect.appendChild(option);
            });

            driverNames.forEach(driver => {
                const option = document.createElement('option');
                option.value = driver;
                option.textContent = driver;
                driverNameSelect.appendChild(option);
            });
        }

        // Display last 3 loads
        function displayLastThreeLoads() {
            const loadHistoryDiv = document.getElementById('loadHistory');
            loadHistoryDiv.innerHTML = '';
            lastThreeLoads.forEach(load => {
                const loadItem = document.createElement('div');
                loadItem.classList.add('load-item');
                loadItem.innerHTML = `
                    <h3>${load.commodity}</h3>
                    <p><strong>Timestamp:</strong> ${load.timestamp}</p>
                    <p><strong>Collection Point:</strong> ${load.collection}</p>
                    <p><strong>Delivery Point:</strong> ${load.delivery}</p>
                `;
                loadHistoryDiv.appendChild(loadItem);
            });
        }

        // Toast message
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.innerText = message;
            toast.className = 'show';
            setTimeout(() => {
                toast.className = toast.className.replace('show', '');
            }, 3000);
        }

        // Search for loads
        async function searchLoads() {
            const trailerInput = document.getElementById('trailerInput').value.trim().toUpperCase();
            if (!trailerInput) {
                showToast('Please enter a trailer number.');
                return;
            }
            const trailerNumberField = document.getElementById('trailerNumber');
            trailerNumberField.value = trailerInput; // Auto-fill the trailer number for submitting new load

            displayLastThreeLoads(); // Display last 3 loads here for simplicity
        }

        // Clear search
        function clearSearch() {
            document.getElementById('trailerInput').value = '';
            document.getElementById('loadHistory').innerHTML = '';
            document.getElementById('results').innerHTML = '';
        }

        // Submit new load
        function submitLoad(event) {
            event.preventDefault();
            showToast('Load submitted successfully');
        }

        // Initialize the app
        populateDropdowns();
    </script>
</body>
</html>
